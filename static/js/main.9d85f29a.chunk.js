(this["webpackJsonpsuspension-geo"]=this["webpackJsonpsuspension-geo"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var i=n(5),s=n(0),a=n.n(s),r=n(11),u=n.n(r),o=(n(67),n(68),n(13)),l=n(9),h=n(46),c=n(45),m=n(18),d=n(22),g=n(119),v=function(){function e(t,n,i,s,a,r){Object(o.a)(this,e),this.renderConstant=.55,this.userAdjustable=s,this.name=t,this.id=Object(g.a)(),this.value=n,this.unit=i,this.minValue=a,this.maxValue=r}return Object(l.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getValue",value:function(){return this.value}},{key:"getName",value:function(){return this.name}},{key:"getUnit",value:function(){return this.unit}},{key:"updateValue",value:function(e){if(isNaN(e))throw new Error("Cannot set value to undefined "+this.getName());if("string"===typeof e&&(e=e.includes(".")?parseFloat(e):parseInt(e)),e<this.minValue||e>this.maxValue)throw new Error("Value is out of bounds "+e+" min="+this.minValue+" maxValue="+this.maxValue+" name="+this.getName());this.value=e}},{key:"updateValueInPixles",value:function(e){var t=e/this.renderConstant;this.updateValue(t)}},{key:"getValueAsPixles",value:function(){return"mm"===this.getUnit()?this.getValue()*this.renderConstant:"in"===this.getUnit()?this.getValue()*this.renderConstant*25.4:void console.error("Unable to convert to pixles!! "+this.getName())}}]),e}(),f=function(){function e(t){Object(o.a)(this,e),this.id=Object(g.a)(),this.container=t,this.vehOriginPoint=[250,200],this.measurements=[new v("Rotation",0,"degrees",!0,-45,45),new v("Mounting Point Vertical Length",500,"mm",!0,1,1e3),new v("Strut Top Separation",1e3,"mm",!0,1,2e3),new v("Lower Control Arm Separation",400,"mm",!0,1,2e3)]}return Object(l.a)(e,[{key:"getId",value:function(){return this.id}},{key:"testConstraintsAndAdjust",value:function(){return!0}},{key:"getDisplayName",value:function(){return"Chassis"}},{key:"getJoints",value:function(){var e=this,t=this.measurements[1].getValueAsPixles(),n=this.measurements[2].getValueAsPixles(),i=this.measurements[3].getValueAsPixles(),s=[[this.vehOriginPoint[0],this.vehOriginPoint[1]]];return s.push([s[0][0]+n,s[0][1]]),s.push([s[0][0]+(n-i)/2,s[0][1]+t]),s.push([s[2][0]+i,s[2][1]]),s.forEach((function(t,n,i){var s=d.c(t,e.measurements[0].getValue(),e.vehOriginPoint);i[n]=s})),s}},{key:"render",value:function(){var e=new m.c;this.graphics&&this.container.removeChild(this.graphics),this.graphics=e;var t=this.getJoints();e.beginFill(15923450),e.lineStyle(2,577274,1),e.moveTo(t[0][0],t[0][1]),e.lineTo(t[1][0],t[1][1]),e.lineTo(t[3][0],t[3][1]),e.lineTo(t[2][0],t[2][1]),e.closePath(),e.endFill(),this.container.addChild(e)}}]),e}(),b=function(){function e(t,n,i,s,a){Object(o.a)(this,e),this.id=Object(g.a)(),this.container=t,this.wheelAssembly=n,this.displayName=a,this.boundedVehiclePointProvider=i,this.chassisRollProvider=s,this.measurements=[new v("Length",400,"mm",!0,1,1e3),new v("Angle From Chassis",175,"degrees",!0,100,240)]}return Object(l.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"render",value:function(){var e=this.container,t=new m.c;this.graphics&&e.removeChild(this.graphics),this.graphics=t;var n=this.wheelAssembly.getJoints()[1],i=this.boundedVehiclePointProvider();t.lineStyle(3,9842748,1),t.moveTo(n[0],n[1]),t.lineTo(i[0],i[1]),e.addChild(t)}},{key:"testConstraintsAndAdjust",value:function(){return!!this.contraintsMet()||(this.wheelAssembly.moveRelative(this.vectorDistanceFromEndOfArmToKnucklePoint()),!1)}},{key:"vectorDistanceFromEndOfArmToKnucklePoint",value:function(){var e=this.wheelAssembly.getJoints()[1],t=this.boundedVehiclePointProvider(),n=this.chassisRollProvider(),i=d.d(t,this.measurements[1].getValue()+n,this.measurements[0].getValueAsPixles());return[i[0]-e[0],i[1]-e[1]]}},{key:"setArmAngle",value:function(e){this.measurements[1].updateValue(e)}},{key:"contraintsMet",value:function(){var e=this.vectorDistanceFromEndOfArmToKnucklePoint();return Math.abs(e[0].toFixed(3))<.008&&Math.abs(e[1].toFixed(3))<.008}}]),e}(),p=function(){function e(t){Object(o.a)(this,e),this.id=Object(g.a)(),this.container=t,this.hubFaceCenterOrigin=[200,200],this.measurements=[new v("Tire Width",215,"mm",!0,0,500),new v("topKnuckleJointVerticalOffset",120,"mm",!0,0,1e3),new v("topKnuckleJointHorizontalOffset",80,"mm",!0,0,1e3),new v("lowerKnuckleJointVeritcalOffset",50,"mm",!0,0,1e3),new v("lowerKnuckleJointHorizontalOffset",50,"mm",!0,0,1e3),new v("camber",0,"degrees",!1,-60,60),new v("Wheel Diameter",17,"in",!0,5,25),new v("Tire Ratio",65,"percent",!0,10,80),new v("Wheel Offset",-30,"mm",!0,-200,200)]}return Object(l.a)(e,[{key:"getId",value:function(){return this.id}},{key:"getDisplayName",value:function(){return"Wheel Assembly"}},{key:"setCamber",value:function(e){this.measurements[5].updateValue(e)}},{key:"getCamber",value:function(){return this.measurements[5].getValue()}},{key:"moveRelative",value:function(e){this.hubFaceCenterOrigin[0]+=e[0],this.hubFaceCenterOrigin[1]+=e[1]}},{key:"render",value:function(){var e=this.container,t=this.measurements[7].getValue(),n=this.measurements[6].getValueAsPixles(),i=this.measurements[8],s=this.measurements[5].getValue(),a=this.measurements[0].getValueAsPixles(),r=2*(a*(t/100))+n,u=i.getValueAsPixles(),o=this.hubFaceCenterOrigin,l=new m.c;this.graphics&&e.removeChild(this.graphics),this.graphics=l;var h=[-a/2+u,-r/2];l.lineStyle(2,1315860,.3),l.beginFill(1315860,.1),l.drawRoundedRect(h[0],h[1],a,r,16),l.endFill();var c=[-a/2+u,-n/2];l.lineStyle(1,16119282,2),l.beginFill(5337210,.4),l.drawRoundedRect(c[0],c[1],a,n,1),l.endFill(),l.lineStyle(1,14681096,.9),l.moveTo(0,-20),l.lineTo(0,20),l.moveTo(-20,0),l.lineTo(20,0);var d=u;l.lineStyle(2,0,.3,.5),l.moveTo(d,.7*-r),l.lineTo(d,.7*r),l.endFill(),this.getJointsRelativeToHubFace().forEach((function(e){l.lineStyle(0),l.beginFill(14561865,1),l.drawCircle(e[0],e[1],4),l.endFill()})),l.position.x=o[0],l.position.y=o[1],l.angle=s,e.addChild(l)}},{key:"getJoints",value:function(){var e=this.hubFaceCenterOrigin,t=this.measurements[5].getValue();return this.getJointsRelativeToHubFace().map((function(n){var i=[n[0]+e[0],n[1]+e[1]];return d.c(i,t,e)}))}},{key:"testConstraintsAndAdjust",value:function(){return!0}},{key:"getJointsRelativeToHubFace",value:function(){var e=this.measurements[1].getValueAsPixles(),t=this.measurements[2].getValueAsPixles(),n=this.measurements[3].getValueAsPixles();return[[t,-e],[this.measurements[4].getValueAsPixles(),n]]}}]),e}(),j=function(){function e(t,n,i,s,a){Object(o.a)(this,e),this.id=Object(g.a)(),this.isFront=s,this.isLeft=a,this.container=t,this.boundedVehiclePointProvider=i,this.wheelAssembly=n,this.measurements=[new v("Angle On Knuckle",10,"degrees",!0,-45,45),new v("Length",1,"mm",!1,1,4e3)]}return Object(l.a)(e,[{key:"getId",value:function(){return this.id}},{key:"testConstraintsAndAdjust",value:function(){if(!this.constraintsMet()){var e=this.measurements[0].getValue(),t=this.boundedVehiclePointProvider(),n=d.a([this.wheelAssembly.getJoints()[0],t])+90,i=d.b([this.wheelAssembly.getJoints()[0],t]);this.measurements[1].updateValueInPixles(i);var s=n-e;return this.wheelAssembly.setCamber(s),!1}return!0}},{key:"getDisplayName",value:function(){var e="Strut ";return this.isLeft?e+="Left ":e+="Right ",this.isFront?e+="Front ":e+="Rear ",e}},{key:"render",value:function(){var e=this.container,t=new m.c,n=this.wheelAssembly,i=this.boundedVehiclePointProvider();this.graphics&&e.removeChild(this.graphics),this.graphics=t;var s=n.getJoints()[0];t.lineStyle(3,238422,1),t.moveTo(i[0],i[1]),t.lineTo(s[0],s[1]),e.addChild(t)}},{key:"constraintsMet",value:function(){var e=d.a([this.wheelAssembly.getJoints()[0],this.boundedVehiclePointProvider()])+90-this.measurements[0].getValue(),t=this.wheelAssembly.getCamber();return e.toFixed(3)===t.toFixed(3)}}]),e}(),y=n(120),x=n(117),O=n(111),C=n(112),V=n(113),w=n(121),A=n(118),k=n(114),P=n(115),F=n(57),T=n.n(F),J=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"measurementDisplay",value:function(e,t,n){return t.userAdjustable?Object(i.jsxs)(y.a,{children:[Object(i.jsx)(x.a,{expandIcon:Object(i.jsx)(T.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)("b",{children:t.getName()})," ",t.getValue()," ",t.getUnit()]})}),Object(i.jsx)(C.a,{children:this.adjustment(t,n)})]},t.id):Object(i.jsx)(y.a,{children:Object(i.jsx)(x.a,{"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)("b",{children:t.getName()})," ",t.getValue()," ",t.getUnit()]})})},t.id)}},{key:"adjustment",value:function(e,t){return Object(i.jsxs)(V.a,{container:!0,spacing:2,alignItems:"center",children:[Object(i.jsx)(V.a,{item:!0,xs:9,children:Object(i.jsx)(w.a,{"aria-labelledby":"discrete-slider-small-steps",step:1,marks:!0,onChange:function(n,i){t(e.getId(),i)},min:e.minValue,max:e.maxValue,valueLabelDisplay:"off"})}),Object(i.jsx)(V.a,{item:!0,xs:3,children:Object(i.jsx)(A.a,{value:e.getValue(),margin:"dense",onChange:function(n){var i=parseInt(n.target.value);i>=e.minValue&&i<=e.maxValue&&t(e.getId(),n.target.value)},inputProps:{step:1,min:e.minValue,max:e.maxValue,type:"number","aria-labelledby":"input-slider"}})})]})}},{key:"render",value:function(){var e=this;return Object(i.jsx)(V.a,{item:!0,children:this.props.modelComponents.map((function(t){return Object(i.jsx)(V.a,{item:!0,xs:12,children:Object(i.jsx)(k.a,{children:Object(i.jsxs)(P.a,{children:[Object(i.jsx)("h2",{children:t.getDisplayName()}),t.measurements.map((function(n){return e.measurementDisplay(t,n,e.props.onMeasurementChange)}))]})})},t.id)}))})}}]),n}(a.a.Component),I=n(116),N=function(e){Object(h.a)(n,e);var t=Object(c.a)(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).updatePixiCnt=function(e){i.pixi_cnt=e,i.pixi_cnt&&i.pixi_cnt.children.length<=0&&i.pixi_cnt.appendChild(i.app.view)},i.pixi_cnt=null,i.app=new m.a({width:1280,height:1e3,backgroundColor:16777215});var s=new m.b;i.app.stage.addChild(s);var a=new f(s),r=new p(s),u=new j(s,r,(function(){return a.getJoints()[0]}),15),l=new b(s,r,(function(){return a.getJoints()[2]}),(function(){return a.measurements[0].getValue()}),"Lower Left Control Arm");return i.state={modelComponents:[l,u,r,a]},i.testConstraintsAndAdjust(),i}return Object(l.a)(n,[{key:"attemptConstrain",value:function(e,t,n){if(e>=1e3)throw new Error("Could not meet contraints of model");var i=t.filter((function(e){return e.testConstraintsAndAdjust()}));i.length===t.length?n(i):this.testConstraintsAndAdjust(e+1,t,n)}},{key:"testConstraintsAndAdjust",value:function(){var e=this;this.attemptConstrain(0,this.state.modelComponents,(function(t){t.forEach((function(e){e.render()})),e.setState({modelComponents:t})}))}},{key:"onMeasurementChange",value:function(e,t){var n=this,i=this.state.modelComponents;i.forEach((function(n){n.measurements.forEach((function(n){n.getId()===e&&n.updateValue(t)}))})),this.setState({modelComponents:i},(function(){n.testConstraintsAndAdjust()}))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)(V.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",spacing:3,children:[Object(i.jsx)(V.a,{item:!0,xs:3,children:Object(i.jsx)(I.a,{variant:"permanent",children:Object(i.jsx)(J,{modelComponents:this.state.modelComponents,onMeasurementChange:function(t,n){e.onMeasurementChange(t,n)}})})}),Object(i.jsx)(V.a,{item:!0,xs:9,children:Object(i.jsx)("div",{ref:this.updatePixiCnt})})]})}}]),n}(a.a.Component);var S=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(N,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))};u.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root")),R()}},[[83,1,2]]]);
//# sourceMappingURL=main.9d85f29a.chunk.js.map